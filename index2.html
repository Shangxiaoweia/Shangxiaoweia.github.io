<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>商伟的技术博客</title>
	<meta name="description" content="">
	<meta name="author" content="商伟">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">商伟的技术博客</a>
			<ul class="nav">
					<li ><a href="/category/django.html">Django</a></li>
					<li ><a href="/category/git.html">GIT</a></li>
					<li ><a href="/category/pa-chong.html">爬虫</a></li>
					<li ><a href="/category/python.html">Python</a></li>
					<li ><a href="/category/rabbitmq.html">RabbitMQ</a></li>
					<li ><a href="/category/redis.html">redis</a></li>
					<li ><a href="/category/supervisor.html">Supervisor</a></li>
					<li ><a href="/category/vue.html">VUE</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
				<li><a href="#">You can modify those links in your config file</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="#">You can add links in your config file</a></li>
				<li><a href="#">Another social link</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
<div class="page-header"><h1> 商伟的技术博客 </h1></div>
<div class='article'>
	<h2>Python输入与输出</h2>
	<div class="well small">Permalink: <a class="more" href="/Python输入与输出.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/python.html">Python</a>
tags: <a href="/tag/python.html">Python</a> </div>
	<div class="summary"><h1>Python输出</h1>
<div class="highlight"><pre><span></span><span class="c1"># 打印提示</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;hello world&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;萨瓦迪卡---泰语，你好的意思&#39;</span><span class="p">)</span>
</pre></div>


<h2>2. 格式化输出</h2>
<h3>&lt;1&gt;格式化操作的目的</h3>
<p>比如有以下代码:</p>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年10岁&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年11岁&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年12岁&quot;</span><span class="p">)</span>
</pre></div>


<ul>
<li>想一想:</li>
</ul>
<blockquote>
<p>在输出年龄的时候，用了多次"我今年xx岁"，能否简化一下程序呢？？？</p>
</blockquote>
<ul>
<li>答:</li>
</ul>
<blockquote>
<p>字符串格式化</p>
</blockquote>
<h3>&lt;2&gt;什么是格式化</h3>
<p>看如下代码:</p>
<div class="highlight"><pre><span></span><span class="n">age</span> <span class="o">=</span> <span class="mi">10</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年</span><span class="si">%d</span><span class="s2">岁&quot;</span> <span class="o">%</span> <span class="n">age</span><span class="p">)</span>

<span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年</span><span class="si">%d</span><span class="s2">岁&quot;</span> <span class="o">%</span> <span class="n">age</span><span class="p">)</span>

<span class="n">age</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;我今年</span><span class="si">%d</span><span class="s2">岁&quot;</span> <span class="o">%</span> <span class="n">age …</span></pre></div> <a class="btn primary xsmall" href="/Python输入与输出.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>VUE拦截器</h2>
	<div class="well small">Permalink: <a class="more" href="/VUE拦截器.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/vue.html">VUE</a>
tags: <a href="/tag/vue.html">VUE</a> </div>
	<div class="summary"><h2>vue 拦截器</h2>
<ul>
<li>
<p>路由拦截器</p>
</li>
<li>
<p>已路由为导向</p>
</li>
</ul>
<div class="highlight"><pre><span></span>  router.beforeEach<span class="o">((</span>to,from,next<span class="o">)=</span>&gt;<span class="o">{</span>
      <span class="k">if</span><span class="o">(</span>to.path<span class="o">==</span><span class="s1">&#39;/login&#39;</span> <span class="o">||</span> to.path<span class="o">==</span><span class="s1">&#39;reg&#39;</span> <span class="o">||</span> localStorage.getItem<span class="o">(</span><span class="s1">&#39;token&#39;</span><span class="o">)){</span>
        next<span class="o">()</span><span class="p">;</span>
      <span class="o">}</span><span class="k">else</span><span class="o">{</span>
        alert<span class="o">(</span><span class="s1">&#39;请重新登录&#39;</span><span class="o">)</span><span class="p">;</span>
        next<span class="o">(</span><span class="s1">&#39;/login&#39;</span><span class="o">)</span><span class="p">;</span>
      <span class="o">}</span>
  <span class="o">})</span>
</pre></div>


<ul>
<li>
<p>请求拦截器</p>
</li>
<li>
<p>当发送请求时才会触发此功能</p>
</li>
</ul>
<div class="highlight"><pre><span></span>  axios.interceptors.request.use<span class="o">(</span><span class="k">function</span> <span class="o">(</span>config<span class="o">)</span> <span class="o">{</span>
    <span class="nb">let</span> <span class="nv">token</span> <span class="o">=</span> window.localStorage.getItem<span class="o">(</span><span class="s2">&quot;token&quot;</span><span class="o">)</span><span class="p">;</span>
        <span class="k">if</span> <span class="o">(</span>token<span class="o">)</span> <span class="o">{</span>
            config.headers.token <span class="o">=</span> token<span class="p">;</span>    //将token放到请求头发送给服务器
        <span class="o">}</span>
       <span class="k">return</span> config<span class="p">;</span> // 最终需要返回config
      <span class="o">}</span>, <span class="k">function …</span></pre></div> <a class="btn primary xsmall" href="/VUE拦截器.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Windows安装redis</h2>
	<div class="well small">Permalink: <a class="more" href="/Windows安装redis.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/redis.html">redis</a>
tags: <a href="/tag/redis.html">redis</a> </div>
	<div class="summary"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">.</span><span class="err">将安装包解压到一个文件夹下</span><span class="p">:</span> <span class="err">如</span> <span class="n">D</span><span class="p">:</span><span class="err">\</span><span class="n">redis</span><span class="p">,</span> <span class="err">会在该文件夹下看到所有</span><span class="n">redis的文件</span>
<span class="mi">2</span><span class="p">.</span><span class="err">将该文件夹添加至系统环境变量中</span>
<span class="mi">3</span><span class="p">.</span><span class="err">在解压的文件目录的地址栏上输入</span><span class="n">cmd</span><span class="p">,</span> <span class="err">在</span><span class="n">cmd窗口中输入redis</span><span class="o">-</span><span class="n">server</span> <span class="p">.</span><span class="o">/</span><span class="n">redis</span><span class="p">.</span><span class="n">windows</span><span class="p">.</span><span class="n">conf</span> <span class="p">,</span> <span class="err">然后回车</span><span class="p">,</span> <span class="n">redis安装成功了</span>
</pre></div> <a class="btn primary xsmall" href="/Windows安装redis.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>django分页组件（paginator）</h2>
	<div class="well small">Permalink: <a class="more" href="/django分页组件（paginator）.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/django.html">Django</a>
tags: <a href="/tag/django.html">Django</a> </div>
	<div class="summary"><h1>Django分页组件(paginator)</h1>
<blockquote>
<p><code>shell
from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger</code></p>
</blockquote>
<div class="highlight"><pre><span></span>  Paginator
</pre></div>


<p>：创建分页对象</p>
<p>### 分页对象内置属性</p>
<div class="highlight"><pre><span></span><span class="nv">all_</span> <span class="o">=</span> models.objects.all<span class="o">()</span>
<span class="nv">p</span> <span class="o">=</span> Paginator<span class="o">(</span>all_, <span class="m">10</span><span class="o">)</span>
<span class="c1"># 分页all_数据，每页显示10条数据</span>
p.count <span class="c1"># 总数据量</span>
p.num_pages<span class="o">()</span> <span class="c1"># 分页数</span>
p.page_range<span class="o">()</span> <span class="c1"># 列表形式返回当前可有的页数 [1,2,3]</span>
<span class="nv">page_1</span> <span class="o">=</span> p.page<span class="o">(</span><span class="m">1</span><span class="o">)</span> <span class="c1"># 选择第一页，返回第一页数据对象</span>
</pre></div>


<h3>某一页内置属性</h3>
<div class="highlight"><pre><span></span>page_1.number <span class="c1"># 当前页的页码</span>
page_1.has_next<span class="o">()</span> <span class="c1"># 是否有下一页</span>
page_1 …</pre></div> <a class="btn primary xsmall" href="/django分页组件（paginator）.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>redis哨兵模式</h2>
	<div class="well small">Permalink: <a class="more" href="/redis哨兵模式.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/redis.html">redis</a>
tags: <a href="/tag/redis.html">redis</a> </div>
	<div class="summary"><h1>Redis哨兵(Sentinel)模式</h1>
<h2>一、概述</h2>
<p>哨兵通过发送命令。等待Redis服务器响应，从而监控运行的多个Redis实例</p>
<p><img alt="1574609729003" src="http://c.biancheng.net/uploads/allimg/190725/5-1ZH51400314I.png"></p>
<h3>哨兵作用</h3>
<ul>
<li>通过发送命令，让Redis服务器返回 监控其运行状态，包括主服务器和从服务器</li>
<li>当哨兵监测到master宕机，会自动将slave(从)切换成master(主)，然后通过‘发布订阅模式’ 通知其他从服务器，修改配置文件，让他们切换主机</li>
</ul>
<h2>二、配置redis主从服务器</h2>
<ol>
<li>修改redis.conf</li>
</ol>
<div class="highlight"><pre><span></span>   <span class="c1"># redis服务器可以跨网络访问</span>
   <span class="n">bind</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>
   <span class="c1"># 设置密码</span>
   <span class="n">requirepass</span> <span class="s1">&#39;123&#39;</span>
   <span class="c1"># 指定主服务器(只配置从服务器，主服务器不需要配置)</span>
   <span class="n">slaveof</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">11.128</span> <span class="mi">6379</span>
   <span class="c1"># 主服务器密码</span>
   <span class="n">masterauth</span> <span class="mi">123</span>
</pre></div>


<ol>
<li>配置3个哨兵，每个哨兵的配置都是一样的 …</li></ol> <a class="btn primary xsmall" href="/redis哨兵模式.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>云服务部署Git</h2>
	<div class="well small">Permalink: <a class="more" href="/云服务部署Git.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/git.html">GIT</a>
tags: <a href="/tag/git.html">GIT</a> </div>
	<div class="summary"><h1>Git</h1>
<h2>创建账号</h2>
<ul>
<li>useradd  名字</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">ls</span> <span class="o">/</span> <span class="err">根目录</span>
<span class="n">ls</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span>
<span class="n">cat</span> <span class="o">~/.</span><span class="n">ssh</span><span class="o">/</span><span class="n">config</span>   <span class="c1"># cat查看文件</span>
<span class="n">ssh</span> <span class="err">名字</span><span class="nd">@主机</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>
<span class="c1"># 切换用户</span>
<span class="n">su</span> <span class="o">-</span> <span class="err">名称</span>
</pre></div>


<ul>
<li>passwd 密码</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span>
<span class="c1"># 修改</span>
<span class="n">vi</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ssh</span><span class="o">/</span><span class="n">sshd_config</span>
<span class="n">RSAAuthentication</span>  <span class="n">yes</span>
<span class="n">PubkeyAuthentication</span>  <span class="n">yes</span>
<span class="n">PasswordAuthentication</span>  <span class="n">yes</span>
<span class="c1"># 需要重启</span>
<span class="n">systemctl</span> <span class="n">restart</span> <span class="n">sshd</span><span class="o">.</span><span class="n">service</span>
</pre></div>


<ul>
<li>生成公钥私钥</li>
</ul>
<div class="highlight"><pre><span></span><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span>
<span class="p">(</span><span class="err">默认是</span><span class="n">id_rsa</span><span class="p">)</span><span class="o">./</span><span class="err">密码名称</span> 
<span class="n">mkdir</span> <span class="o">.</span><span class="n">ssh</span>   <span class="c1">#创建</span>
<span class="n">ls …</span></pre></div> <a class="btn primary xsmall" href="/云服务部署Git.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>介绍爬虫</h2>
	<div class="well small">Permalink: <a class="more" href="/介绍爬虫.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/pa-chong.html">爬虫</a>
tags: <a href="/tag/pa-chong.html">爬虫</a> </div>
	<div class="summary"><hr>
<h2>1. 爬虫概述</h2>
<h4>1.1  爬虫概念</h4>
<div class="highlight"><pre><span></span><span class="err">爬虫</span><span class="p">,</span> <span class="err">又称网页蜘蛛或网络机器人</span><span class="o">.</span>

<span class="err">爬虫是</span> <span class="err">模拟人操作客户端</span><span class="p">(</span><span class="err">浏览器</span><span class="p">,</span> <span class="n">APP</span><span class="p">)</span>   <span class="err">向服务器发起网络请求</span>    <span class="err">抓取数据的自动化程序或脚本</span><span class="o">.</span>

<span class="c1"># 说明:</span>

<span class="err">​</span>    <span class="mf">1.</span><span class="err">模拟</span><span class="p">:</span> <span class="err">用爬虫程序伪装出人的行为</span><span class="p">,</span> <span class="err">避免被服务识别为爬虫程序</span>

<span class="err">​</span>    <span class="mf">2.</span><span class="err">客户端</span><span class="p">:</span> <span class="err">浏览器</span><span class="p">,</span> <span class="n">APP都可以实现人与服务器之间的交互行为</span><span class="p">,</span> <span class="err">应用客户端从服务器获取数据</span>

<span class="err">​</span>    <span class="mf">3.</span><span class="err">自动化</span><span class="p">:</span> <span class="err">数据量较小时可以人工获取数据</span><span class="p">,</span> <span class="err">但往往在公司中爬取的数据量在百万条</span><span class="p">,</span> <span class="err">千万条级别的</span><span class="p">,</span> <span class="err">所以要程序自动化获取数据</span><span class="o">.</span>
</pre></div>


<h4>1.2  爬虫语言</h4>
<div class="highlight"><pre><span></span><span class="c1"># 爬虫语言:PHP, C/C++, Java, Python</span>

<span class="c1"># 对比:</span>

<span class="err">​</span>    <span class="n">PHP</span><span class="p">:</span> <span class="err">并发能力差</span><span class="p">,</span> <span class="err">对多进程和多线程支持不好</span><span class="p">,</span> <span class="err">数据量较大时爬虫效率较低</span>

<span class="err">​</span>    <span class="n">C</span><span class="o">/</span><span class="n">C</span><span class="o">++</span><span class="p">:</span> <span class="err">语言效率高</span><span class="p">,</span> <span class="err">但学习成本高</span><span class="p">,</span> <span class="err">对程序员的技术能力要求较高</span><span class="p">,</span>  <span class="err">所以目前还停留在研究层面</span><span class="p">,</span> <span class="err">市场需求量很小 …</span></pre></div> <a class="btn primary xsmall" href="/介绍爬虫.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>爬虫第一个请求</h2>
	<div class="well small">Permalink: <a class="more" href="/爬虫第一个请求.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/pa-chong.html">爬虫</a>
tags: <a href="/tag/pa-chong.html">爬虫</a> </div>
	<div class="summary"><hr>
<h2>1.请求过程与网页基础</h2>
<h4>1.1  URL介绍</h4>
<div class="highlight"><pre><span></span>- 确定URL
</pre></div>


<h4>1.2  HTTP请求过程</h4>
<div class="highlight"><pre><span></span># 请求过程:

​    客户端, 通常指web浏览器或APP向服务器发起请求, 服务器接收到请求进行处理, 并向客户端发起响应.
</pre></div>


<h4>1.3  请求</h4>
<div class="highlight"><pre><span></span><span class="c1"># 请求: 有客户端向服务器发出的, 可以分为四部分内容: 请求方法(Request Method), 请求网址(Request URL), 请求头(Request Headers), 请求体(Request Body)</span>
</pre></div>


<div class="highlight"><pre><span></span><span class="c1"># 请求方法:常见有8种</span>

<span class="o">-</span> <span class="n">GET</span><span class="p">:</span> <span class="err">请求页面</span><span class="p">,</span> <span class="err">并返回页面内容</span>  <span class="c1"># 重点</span>

<span class="o">-</span> <span class="n">POST</span><span class="p">:</span> <span class="err">用于提交表单数据或上传文件</span><span class="p">,</span> <span class="err">数据包含在请求体中</span>  <span class="c1"># 重点</span>

<span class="o">-</span> <span class="n">PUT</span><span class="p">:</span> <span class="err">从客户端向服务器传送的数据取代指定文档中的内容</span>

<span class="o">-</span> <span class="n">DELETE</span><span class="p">:</span> <span class="err">请求服务器删除指定的页面</span>

<span class="o">-</span> <span class="n">HEAD</span><span class="p">:</span> <span class="err">类似于</span><span class="n">GET请求</span><span class="err">，只不过返回的响应中没有具体的内容 …</span></pre></div> <a class="btn primary xsmall" href="/爬虫第一个请求.html">more…</a>
	</div>
</div>	

<div class="pagination">
<ul>
		<li class="prev"><a href="/index.html">&larr; Previous</a></li>
		<li class=""><a href="/index.html">1</a></li>
		<li class="active"><a href="/index2.html">2</a></li>
		<li class="next disabled"><a href="#">&rarr; Next</a></li>
</ul>
</div>

		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; 商伟</p>
		</footer>
	  </div>

	</div>
</body>
</html>