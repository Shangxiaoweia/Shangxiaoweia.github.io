<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>商伟的技术博客</title>
	<meta name="description" content="">
	<meta name="author" content="商伟">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">商伟的技术博客</a>
			<ul class="nav">
					<li class="active"><a href="/category/django.html">Django</a></li>
					<li ><a href="/category/git.html">GIT</a></li>
					<li ><a href="/category/javascript.html">JavaScript</a></li>
					<li ><a href="/category/mongodb.html">Mongodb</a></li>
					<li ><a href="/category/mysql.html">MySQL</a></li>
					<li ><a href="/category/pa-chong.html">爬虫</a></li>
					<li ><a href="/category/python.html">Python</a></li>
					<li ><a href="/category/rabbitmq.html">RabbitMQ</a></li>
					<li ><a href="/category/redis.html">redis</a></li>
					<li ><a href="/category/sui-shou-bi-ji.html">随手笔记</a></li>
					<li ><a href="/category/supervisor.html">Supervisor</a></li>
					<li ><a href="/category/vue.html">VUE</a></li>
					<li ><a href="/category/wang-luo.html">网络</a></li>
					<li ><a href="/category/xiao-cheng-xu.html">小程序</a></li>
					<li ><a href="/category/xu-ni-huan-jing.html">虚拟环境</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
				<li><a href="https://shangxiaoweia.github.io/puzzle.html">拼图</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://han520min.github.io">hanmin</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
<div class="page-header"><h1>商伟的技术博客 <small>Django</small></h1></div>
<div class='article'>
	<h2>django分页组件（paginator）</h2>
	<div class="well small">Permalink: <a class="more" href="/django分页组件（paginator）.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/django.html">Django</a>
tags: <a href="/tag/django.html">Django</a> </div>
	<div class="summary"><h1>Django分页组件(paginator)</h1>
<div class="highlight"><pre><span></span>from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger
</pre></div>


<div class="highlight"><pre><span></span>  Paginator
</pre></div>


<p>：创建分页对象</p>
<p>### 分页对象内置属性</p>
<div class="highlight"><pre><span></span><span class="nv">all_</span> <span class="o">=</span> models.objects.all<span class="o">()</span>
<span class="nv">p</span> <span class="o">=</span> Paginator<span class="o">(</span>all_, <span class="m">10</span><span class="o">)</span>
<span class="c1"># 分页all_数据，每页显示10条数据</span>
p.count <span class="c1"># 总数据量</span>
p.num_pages<span class="o">()</span> <span class="c1"># 分页数</span>
p.page_range<span class="o">()</span> <span class="c1"># 列表形式返回当前可有的页数 [1,2,3]</span>
<span class="nv">page_1</span> <span class="o">=</span> p.page<span class="o">(</span><span class="m">1</span><span class="o">)</span> <span class="c1"># 选择第一页，返回第一页数据对象</span>
</pre></div>


<h3>某一页内置属性</h3>
<div class="highlight"><pre><span></span>page_1.number <span class="c1"># 当前页的页码</span>
page_1.has_next<span class="o">()</span> <span class="c1"># 是否有下一页</span>
page_1.has_previous …</pre></div> <a class="btn primary xsmall" href="/django分页组件（paginator）.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>三分钟创建一个静态网页</h2>
	<div class="well small">Permalink: <a class="more" href="/三分钟创建一个静态网页.html">2019-08-08 18:44:00+02:00</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/django.html">Django</a>
tags: <a href="/tag/django.html">Django</a> </div>
	<div class="summary"><h3>这个静态网页可以用来做你自己的博客，pelican是以为法国开发者研发的，非常好用，它的每一篇文章会事先渲染成HTML静态文件，访问速度非常快。</h3>
<h5>1)安装pelcan和markdown</h5>
<div class="highlight"><pre><span></span>pip install pelican  markdown --upgrade
</pre></div>


<h5>2)创建一个文件夹用来作为博客的目录</h5>
<div class="highlight"><pre><span></span>mkdir 博客目录
</pre></div>


<h5>3)cd到该目录下运行命令生成博客的框架</h5>
<div class="highlight"><pre><span></span>cd 博客目录
pelican-quickstart
</pre></div>


<h5>4)安装过程中会有很多的配置，不知道的可以直接n，后期都是可以进行修改的</h5>
<div class="highlight"><pre><span></span>&gt; Where do you want to create your new web site? [.]
&gt; What will be the title of this web site? 商伟的技术博客
&gt; Who will be the author …</pre></div> <a class="btn primary xsmall" href="/三分钟创建一个静态网页.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Django部署</h2>
	<div class="well small">Permalink: <a class="more" href="/Django部署.html">1000-01-01 18:44:00+00:09</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/django.html">Django</a>
tags: <a href="/tag/django.html">Django</a> </div>
	<div class="summary"><h2>uvicorn和circus的用处</h2>
<h5>Django3部署</h5>
<div class="highlight"><pre><span></span>推荐： uvicorn + circus/supervisord
</pre></div>


<h5>Django2部署</h5>
<div class="highlight"><pre><span></span>推荐： gunicorn + circus/supervisord
</pre></div>


<h5>sanic部署</h5>
<div class="highlight"><pre><span></span>推荐： uvicorn + circus
</pre></div>


<ul>
<li>
<p>步骤</p>
</li>
<li>
<p>安装circus</p>
<ul>
<li>pip install circus</li>
</ul>
</li>
<li>安装uvicorn<ul>
<li>pip install uvicorn</li>
</ul>
</li>
<li>项目中写一个circus.ini</li>
</ul>
<p>```text
  [watcher:mysite]
  cmd = venv/bin/uvicorn --fd $(circus.sockets.misite) server:app
  use_sockets = True
  numprocesses = 2</p>
<p>[socket:mysite]
  host = 0.0.0.0 …</p> <a class="btn primary xsmall" href="/Django部署.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>创建一个静态网页</h2>
	<div class="well small">Permalink: <a class="more" href="/创建一个静态网页.html">1000-01-01 18:44:00+00:09</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/django.html">Django</a>
tags: <a href="/tag/django.html">Django</a> </div>
	<div class="summary"><h4>静态网站</h4>
<h5>gitbook 把markdown转化为html</h5>
<div class="highlight"><pre><span></span>gitbook server
</pre></div>


<h4>上传文件</h4>
<p>推荐: 使用支持sftp协议的工具上传 ssh2协议</p>
<p>列如: pycharm filezilla 等</p>
<h4>Nginx</h4>
<ul>
<li>可以当做HTTP服务器，提供HTML的传输服务</li>
<li>yum install -y nginx</li>
<li>whereis nginx</li>
<li>启动nginx   nginx</li>
<li>nginx -s relaod 修改nginx.conf之后，可以重载</li>
</ul>
<h5>显示发布的页面</h5>
<p>修改nginx.conf 内的root</p>
<p>user 修改为 root</p>
<p>root 你发布的页面路径</p>
<p>chmod -R 755 _book   修改权限</p>
<p>之后 重新加载</p>
<h5>https以下是Nginx的默认路径：</h5>
<div class="highlight"><pre><span></span>(1) Nginx配置路径：/etc …</pre></div> <a class="btn primary xsmall" href="/创建一个静态网页.html">more…</a>
	</div>
</div>	

<div class="pagination">
<ul>
		<li class="prev"><a href="/category/django.html">&larr; Previous</a></li>
		<li class=""><a href="/category/django.html">1</a></li>
		<li class="active"><a href="/category/django2.html">2</a></li>
		<li class="next disabled"><a href="#">&rarr; Next</a></li>
</ul>
</div>

		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; 商伟</p>
		</footer>
	  </div>

	</div>
</body>
</html>